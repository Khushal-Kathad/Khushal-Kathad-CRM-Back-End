(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5583],{15486:(e,t,a)=>{"use strict";a.d(t,{IY:()=>o,iK:()=>h,dF:()=>p,PN:()=>m});var n=a(95155),r=a(68074),l=a(21030),i=a(66292);function o(e){let{onCancel:t,loading:a=!1,submitText:o="Submit",cancelText:s="Cancel",submitColor:c="primary",cancelColor:d="inherit",direction:u="row",justifyContent:m="flex-end",spacing:x=2,fullWidth:h=!1,submitVariant:p="contained",cancelVariant:b="outlined",...g}=e;return(0,n.jsxs)(l.A,{direction:u,justifyContent:m,spacing:x,...g,children:[(0,n.jsx)(i.default,{variant:b,color:d,onClick:t,fullWidth:h,disabled:a,children:s}),(0,n.jsx)(r.default,{type:"submit",variant:p,color:c,loading:a,fullWidth:h,disabled:a,children:o})]})}var s=a(77347),c=a(78822),d=a(53494),u=a(72635);function m(e){let{href:t,title:a,icon:r,iconSize:l=30,tooltipPlacement:i="top",...o}=e;return(0,n.jsx)(c.default,{title:a,arrow:!0,placement:i,children:(0,n.jsx)(d.default,{component:u.W,href:t,...o,children:(0,n.jsx)(s.In,{icon:r,sx:{width:l,height:l}})})})}var x=a(38867);function h(e){let{title:t="Edit",icon:a="solar:pen-bold",iconSize:r=20,size:l="small",onClick:i,tooltipPlacement:o="left",variant:s="glass",position:u="absolute",top:m=16,right:h=16,bottom:p,left:b,color:g="inherit",disabled:f=!1,sx:C={},...j}=e,y="absolute"===u?{position:"absolute",...void 0!==m&&{top:m},...void 0!==h&&{right:h},...void 0!==p&&{bottom:p},...void 0!==b&&{left:b}}:{};return(0,n.jsx)(c.default,{title:t,placement:o,children:(0,n.jsx)(d.default,{onClick:i,size:l,disabled:f,sx:{...y,...{glass:{color:"inherit"===g?"common.white":g,bgcolor:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(8px)",transition:"all 0.2s","&:hover":{bgcolor:"rgba(255, 255, 255, 0.16)",transform:"scale(1.05)"}},solid:{color:"common.white",bgcolor:"primary.main",transition:"all 0.2s","&:hover":{bgcolor:"primary.dark",transform:"scale(1.05)"}},outlined:{color:"inherit"===g?"text.primary":g,border:1,borderColor:"divider",transition:"all 0.2s","&:hover":{bgcolor:"action.hover",transform:"scale(1.05)"}},ghost:{color:"inherit"===g?"text.secondary":g,transition:"all 0.2s","&:hover":{bgcolor:"action.hover",color:"text.primary"}}}[s],...C},...j,children:(0,n.jsx)(x.W,{icon:a,width:r})})})}function p(e){let{href:t,label:a="New",icon:l="mingcute:add-line",title:i="",size:o="small",color:s="inherit",variant:d="contained",loading:m=!1,disabled:h=!1,tooltipPlacement:p="top",sx:b={},...g}=e,f=(0,n.jsx)(r.default,{size:o,color:s,variant:d,component:u.W,href:t,startIcon:(0,n.jsx)(x.W,{icon:l}),loading:m,disabled:h,sx:{pr:1.5,mr:1.5,...b},...g,children:a});return i?(0,n.jsx)(c.default,{title:i,arrow:!0,placement:p,children:f}):f}},17173:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var n=a(95155);a(85716);var r=a(38543),l=a(96801),i=a(49742),o=a(35046),s=a(15486),c=a(83469),d=a(55594),u=a(62177),m=a(12115),x=a(90221),h=a(24967),p=a(80918),b=a(84256),g=a(21030),f=a(9670),C=a(40001),j=a(2360),y=a(695),v=a(78129),A=a(38867),N=a(54961);let z=d.z.object({ContactFName:d.z.string().min(1,"First name is required").refine(e=>!/\d/.test(e),{message:"First name should not contain numbers"}),ContactLName:d.z.string().min(1,"Last name is required").refine(e=>!/\d/.test(e),{message:"Last name should not contain numbers"}),ContactNo:N.yf.phoneNumber({isValid:h.g0}),ContactEmail:d.z.string().email("Invalid email").optional().or(d.z.literal("")),ContactType:d.z.string().min(1,"Contact type is required"),ContactState:d.z.string().optional(),ContactCity:d.z.string().optional(),ContactPostalCode:d.z.string().optional(),ContactAddress:d.z.string().optional(),avatarUrl:d.z.any().optional(),BrokerLicence:d.z.string().optional(),YearsExperience:d.z.number().optional(),CommisionRate:d.z.number().optional(),Specialization:d.z.string().optional(),accountName:d.z.string().optional(),industry:d.z.string().optional(),accountPhone:d.z.string().optional(),website:d.z.string().optional(),accountAddress:d.z.string().optional(),Instagram:d.z.string().optional(),Facebook:d.z.string().optional(),Twitter:d.z.string().optional()}),w={ContactFName:"",ContactLName:"",ContactNo:"",ContactType:"Customer",ContactEmail:"",ContactCity:"",ContactState:"",ContactAddress:"",ContactPostalCode:"",BrokerLicence:"",CommisionRate:0,YearsExperience:0,Specialization:"",accountName:"",industry:"",accountPhone:"",website:"",accountAddress:"",Instagram:"",Facebook:"",Twitter:""};function k(){let e=(0,y.rd)(),[t,a]=(0,m.useState)(""),l=(0,m.useRef)(""),o=(0,u.mN)({resolver:(0,x.u)(z),defaultValues:w}),{reset:c,handleSubmit:d,control:k,formState:{isSubmitting:E}}=o,T=(0,u.FH)({control:k,name:"ContactType",defaultValue:"Customer"}),D=(0,m.useCallback)(async t=>{try{l.current=t.ContactNo,a("");let n=(0,h.lq)(t.ContactNo||""),o={ContactFName:t.ContactFName,ContactLName:t.ContactLName,ContactNo:n?Number(n.nationalNumber):t.ContactNo,ContactCountryCode:n?n.country:"IN",ContactType:t.ContactType,ContactEmail:t.ContactEmail||null,ContactCity:t.ContactCity||null,ContactState:t.ContactState||null,ContactAddress:t.ContactAddress||null,ContactPostalCode:t.ContactPostalCode||null,..."Broker"===t.ContactType?{BrokerLicence:t.BrokerLicence||null,CommisionRate:t.CommisionRate?Number(t.CommisionRate):null,YearsExperience:t.YearsExperience?Number(t.YearsExperience):null,Specialization:t.Specialization||null}:{},Instagram:t.Instagram||null,Facebook:t.Facebook||null,Twitter:t.Twitter||null},s=await (0,v.vY)(o);r.oR.success("Contact created successfully!"),c(),a(""),s&&s.ContactId&&e.push(i.f.dashboard.contact.profile(s.ContactId))}catch(l){var n,o,s,d;let e=(null==l||null==(o=l.response)||null==(n=o.data)?void 0:n.detail)||(null==l||null==(d=l.response)||null==(s=d.data)?void 0:s.message),t=null==l?void 0:l.message;if(e&&("Contact with this ContactNo already exists."===e||e.includes("ContactNo already exists")))return void a("This phone number is already registered in the system. Please use a different number.");e?r.oR.error(e):t?r.oR.error(t):r.oR.error("Failed to create contact. Please try again.")}},[e,c]);return(0,n.jsx)(N.lV,{methods:o,onSubmit:d(D),children:(0,n.jsxs)(p.A,{container:!0,spacing:3,children:[(0,n.jsx)(p.A,{size:{xs:12,md:4},children:(0,n.jsx)(b.A,{sx:{pt:5,pb:3,px:3,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,n.jsxs)(g.A,{spacing:2.5,alignItems:"center",sx:{width:"100%"},children:[(0,n.jsx)(g.A,{sx:{width:144,height:144,borderRadius:"50%",border:e=>"2px dashed ".concat(e.palette.divider),display:"flex",alignItems:"center",justifyContent:"center",bgcolor:e=>e.palette.action.hover,position:"relative",transition:"all 0.2s ease","&:hover":{bgcolor:e=>e.palette.action.selected,borderColor:e=>e.palette.primary.main}},children:(0,n.jsxs)(g.A,{spacing:1,alignItems:"center",children:[(0,n.jsx)(A.W,{icon:"solar:camera-add-bold",sx:{width:48,height:48,color:"text.disabled",opacity:.48}}),(0,n.jsx)(f.default,{variant:"caption",sx:{color:"text.secondary",fontWeight:600},children:"Coming Soon"})]})}),(0,n.jsxs)(g.A,{spacing:.5,alignItems:"center",children:[(0,n.jsx)(f.default,{variant:"subtitle2",sx:{color:"text.primary"},children:"Upload Photo"}),(0,n.jsx)(f.default,{variant:"caption",sx:{textAlign:"center",color:"text.secondary"},children:"Feature will be available in future updates"})]})]})})}),(0,n.jsx)(p.A,{size:{xs:12,md:8},children:(0,n.jsxs)(b.A,{sx:{p:3},children:[(0,n.jsx)(f.default,{variant:"h6",gutterBottom:!0,children:"Contact Details"}),(0,n.jsxs)(p.A,{container:!0,spacing:2,children:[(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Text2,{name:"ContactFName",label:"First Name",placeholder:"Enter Contact First Name"})}),(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Text2,{name:"ContactLName",label:"Last Name",placeholder:"Enter Contact Last Name"})}),(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Phone,{name:"ContactNo",label:"Contact Number",placeholder:"+91 XXXXX-XXXXX",country:"IN"})}),(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Text2,{name:"ContactEmail",label:"Contact Email",placeholder:"abc@gmail.com"})}),t&&(0,n.jsx)(p.A,{size:12,children:(0,n.jsx)(C.default,{severity:"error",sx:{mt:1},children:t})}),(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsxs)(N.D0.Select,{name:"ContactType",label:"Contact Type",placeholder:"Select Contact Type",children:[(0,n.jsx)(j.default,{value:"Customer",children:"Customer"}),(0,n.jsx)(j.default,{value:"Broker",children:"Broker"})]})}),(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Text2,{name:"ContactState",label:"State Name",placeholder:"Select State"})}),(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Text2,{name:"ContactCity",label:"City Name",placeholder:"Select City"})}),(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Text2,{name:"ContactPostalCode",label:"Postal Code",placeholder:"Ex-391242"})}),(0,n.jsx)(p.A,{size:12,children:(0,n.jsx)(N.D0.Text2,{name:"ContactAddress",label:"Address",placeholder:"Ex-Flat/House Number, Floor Number, Street Name and Number, Building Name or Number, Area/Locality, Landmark etc.",multiline:!0,rows:2,fullWidth:!0})})]})]})}),"Broker"===T&&(0,n.jsx)(p.A,{size:{xs:12,md:4},children:(0,n.jsxs)(b.A,{sx:{p:3},children:[(0,n.jsx)(f.default,{variant:"h6",gutterBottom:!0,children:"Other Details (Broker Only)"}),(0,n.jsxs)(g.A,{spacing:1,children:[(0,n.jsx)(N.D0.Text2,{name:"BrokerLicence",label:"Broker License",placeholder:"License Number"}),(0,n.jsx)(N.D0.Text2,{name:"YearsExperience",label:"Years of Experience",placeholder:"Ex- 0,1,2 years",type:"number"}),(0,n.jsx)(N.D0.Text2,{name:"CommisionRate",label:"Commission Rate %",placeholder:"Ex-5%",type:"number"}),(0,n.jsx)(N.D0.Text2,{name:"Specialization",label:"Specialization",placeholder:"Ex-Area of expertise (Residential etc.)"})]})]})}),"Broker"===T&&(0,n.jsx)(p.A,{size:{xs:12,md:8},children:(0,n.jsxs)(b.A,{sx:{p:3},children:[(0,n.jsx)(f.default,{variant:"h6",gutterBottom:!0,children:"Account Details (Broker Only)"}),(0,n.jsxs)(p.A,{container:!0,spacing:2,children:[(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Text2,{name:"accountName",label:"Account Name",placeholder:"Company or business name"})}),(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Text2,{name:"industry",label:"Industry",placeholder:"Ex-Real estate, IT, Finance etc."})}),(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Phone,{name:"accountPhone",label:"Phone Number",placeholder:"+91 XXXXX-XXXXX",country:"IN"})}),(0,n.jsx)(p.A,{size:{xs:12,sm:6},children:(0,n.jsx)(N.D0.Text2,{name:"website",label:"Website Name",placeholder:"Ex-www.abc.com"})}),(0,n.jsx)(p.A,{size:12,children:(0,n.jsx)(N.D0.Text2,{name:"accountAddress",label:"Address",placeholder:"Ex-Flat/House Number, Floor Number, Street Name and Number, Building Name or Number, Area/Locality, Landmark etc.",multiline:!0,rows:3,fullWidth:!0})})]})]})}),(0,n.jsx)(p.A,{size:12,children:(0,n.jsxs)(b.A,{sx:{p:3},children:[(0,n.jsx)(f.default,{variant:"h6",gutterBottom:!0,children:"Social"}),(0,n.jsxs)(p.A,{container:!0,spacing:2,children:[(0,n.jsx)(p.A,{size:{xs:12,sm:4},children:(0,n.jsx)(N.D0.Text2,{name:"Instagram",label:"Instagram",placeholder:"@yourhandle"})}),(0,n.jsx)(p.A,{size:{xs:12,sm:4},children:(0,n.jsx)(N.D0.Text2,{name:"Facebook",label:"Facebook",placeholder:"facebook.com/yourprofile"})}),(0,n.jsx)(p.A,{size:{xs:12,sm:4},children:(0,n.jsx)(N.D0.Text2,{name:"Twitter",label:"Twitter",placeholder:"@yourhandle"})})]})]})}),(0,n.jsx)(p.A,{size:12,children:(0,n.jsx)(s.IY,{onCancel:()=>c(),loading:E,submitText:"Submit",cancelText:"Cancel",submitColor:"inherit"})})]})})}function E(){return(0,n.jsxs)(o.KG,{children:[(0,n.jsx)(c.g,{links:[{name:"Dashboard",href:i.f.dashboard.root},{name:"Contact",href:i.f.dashboard.contact.root},{name:"New Contact"}],sx:{mb:{xs:1,xl:2}}}),(0,n.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,n.jsx)(s.PN,{title:"View Contact List",href:i.f.dashboard.contact.list,icon:"material-symbols:view-list"}),(0,n.jsx)(s.PN,{title:"View Contact Cards",href:i.f.dashboard.contact.root,icon:"material-symbols:view-module"})]}),(0,n.jsx)(k,{}),(0,n.jsx)(r.N9,{position:"top-right",autoClose:3e3})]})}},33442:(e,t,a)=>{Promise.resolve().then(a.bind(a,17173))},35046:(e,t,a)=>{"use strict";a.d(t,{KG:()=>n.DashboardContent}),a(57452);var n=a(39303)},78129:(e,t,a)=>{"use strict";a.d(t,{XL:()=>o,ig:()=>d,ot:()=>s,vY:()=>c});var n=a(19169),r=a(12115),l=a(18835);let i={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1};function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=l.vZ.contact.readAll(e,t,a,o),{data:c,isLoading:d,error:u,isValidating:m,mutate:x}=(0,n.Ay)(s,l.GO,{...i,keepPreviousData:!0});return(0,r.useMemo)(()=>({contactsData:null!=c?c:[],contactsLoading:d,contactsError:u?(null==u?void 0:u.message)||"Error fetching data":null,contactsValidating:m,contactsEmpty:!d&&!m&&(!Array.isArray(c)||0===c.length),refetchContact:()=>x()}),[c,u,d,m,x])}function s(e){let t=e?l.vZ.contact.readSingle(e):null,{data:a,isLoading:o,error:s,isValidating:c,mutate:d}=(0,n.Ay)(t,l.GO,i);return(0,r.useMemo)(()=>({contactData:null!=a?a:[],contactLoading:o,contactError:s?(null==s?void 0:s.message)||"Error fetching data":null,contactValidating:c,contactEmpty:!o&&!c&&(!Array.isArray(a)||0===a.length),refetchContact:()=>d()}),[a,s,o,c,d])}let c=async e=>{let t=l.vZ.contact.create;return(await (0,l.D5)([t,e])).data};function d(e,t){let a=e?l.vZ.contact.search(e,t):null,{data:o,isLoading:s,error:c,isValidating:d,mutate:u}=(0,n.Ay)(a,l.ev,i);return(0,r.useMemo)(()=>({searchResults:null!=o?o:[],searchLoading:s,searchError:c?(null==c?void 0:c.message)||"Error searching contacts":null,searchValidating:d,searchEmpty:!s&&!d&&(!Array.isArray(o)||0===o.length),refetchContactSearch:()=>u()}),[o,c,s,d,u])}},83469:(e,t,a)=>{"use strict";a.d(t,{g:()=>j});var n=a(95155),r=a(35206),l=a(17764),i=a(72635),o=a(38867);function s(e){let{sx:t,label:a,...r}=e;return(0,n.jsxs)(l.A,{component:i.W,color:"inherit",underline:"none",sx:[e=>({verticalAlign:"middle",["& .".concat(o.M.root)]:{verticalAlign:"inherit",transform:"translateY(-2px)",ml:{xs:"-14px",md:"-18px"},transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.sharp})},"&:hover":{["& .".concat(o.M.root)]:{opacity:.48}}}),...Array.isArray(t)?t:[t]],...r,children:[(0,n.jsx)(o.W,{width:18,icon:"eva:arrow-ios-back-fill"}),a]})}var c=a(35881);function d(e){let{links:t,sx:a,...r}=e;return(0,n.jsx)(u,{sx:a,...r,children:null==t?void 0:t.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)(l.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",children:e})},e))})}let u=(0,c.default)("ul")(()=>({display:"flex",flexDirection:"column","& > li":{display:"flex"}}));function m(e){let{href:t,icon:a,name:r,disabled:o,...s}=e,c=()=>(0,n.jsxs)(x,{disabled:o,...s,children:[a&&(0,n.jsx)(h,{children:a}),r]});return t?(0,n.jsx)(l.A,{component:i.W,href:t,color:"inherit",sx:{display:"inline-flex",...o&&{pointerEvents:"none"}},children:c()}):c()}let x=(0,c.default)("div",{shouldForwardProp:e=>!["disabled","sx"].includes(e)})(e=>{let{disabled:t,theme:a}=e;return{...a.typography.body2,alignItems:"center",gap:a.spacing(1),display:"inline-flex",color:a.vars.palette.text.primary,...t&&{cursor:"default",pointerEvents:"none",color:a.vars.palette.text.disabled}}}),h=(0,c.default)("span")(()=>({display:"inherit","& > :first-of-type:not(style):not(:first-of-type ~ *), & > style + *":{width:20,height:20}})),p=(0,c.default)("div")(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.spacing(2)}}),b=(0,c.default)("h6")(e=>{let{theme:t}=e;return{...t.typography.h4,margin:0,padding:0,display:"inline-flex"}}),g=(0,c.default)("div")(e=>{let{theme:t}=e;return{display:"flex",flexWrap:"wrap",gap:t.spacing(2),alignItems:"flex-start",justifyContent:"flex-end"}}),f=(0,c.default)("div")(e=>{let{theme:t}=e;return{display:"flex",flex:"1 1 auto",gap:t.spacing(2),flexDirection:"column"}}),C=(0,c.default)("span")(e=>{let{theme:t}=e;return{width:4,height:4,borderRadius:"50%",backgroundColor:t.vars.palette.text.disabled}});function j(e){var t,a;let{sx:l,action:i,backHref:o,heading:c,slots:u={},links:x=[],moreLinks:h=[],slotProps:j={},activeLast:y=!1,...v}=e,A=null==(t=x[x.length-1])?void 0:t.name;return(0,n.jsxs)(p,{sx:l,...v,children:[(0,n.jsxs)(g,{...null==j?void 0:j.container,children:[(0,n.jsxs)(f,{...null==j?void 0:j.content,children:[(c||o)&&(0,n.jsx)(b,{...null==j?void 0:j.heading,children:o?(0,n.jsx)(s,{href:o,label:c}):c}),(!!x.length||(null==u?void 0:u.breadcrumbs))&&(null!=(a=null==u?void 0:u.breadcrumbs)?a:(0,n.jsx)(r.A,{separator:(0,n.jsx)(C,{}),...null==j?void 0:j.breadcrumbs,children:x.map((e,t)=>{var a;return(0,n.jsx)(m,{icon:e.icon,href:e.href,name:e.name,disabled:e.name===A&&!y||!e.href},null!=(a=e.name)?a:t)})}))]}),i]}),!!(null==h?void 0:h.length)&&(0,n.jsx)(d,{links:h,...null==j?void 0:j.moreLinks})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4797,544,5004,277,2051,2156,6635,3003,8500,3683,1256,6292,7950,4515,1695,117,1641,2230,3807,4281,1457,9912,9243,2987,2973,204,119,783,6414,7594,6494,567,7452,5510,218,4961,8441,1684,7358],()=>t(33442)),_N_E=e.O()}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9669],{25114:(e,t,a)=>{a.d(t,{CI:()=>s,M6:()=>c,P8:()=>n,T5:()=>l,vY:()=>i});var r=a(18835),o=a(25560);let n=async(e,t)=>{let a=sessionStorage.getItem(o.A);return(await r.Ay.get(r.vZ.contact.search(e,t),{headers:{accept:"application/json",Authorization:"Bearer ".concat(a)}})).data},i=async e=>{try{let t=sessionStorage.getItem(o.A);return(await r.Ay.post(r.vZ.contact.create,e,{headers:{accept:"*/*",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).data}catch(e){throw console.log("Contact creation error:",e),e}},s=async(e,t)=>{try{let a=sessionStorage.getItem(o.A);return(await r.Ay.put(r.vZ.contact.update(e),t,{headers:{accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}})).data}catch(e){throw console.log("Error (updateContact):",e),e}},c=async(e,t)=>{try{let a=sessionStorage.getItem(o.A),n=r.vZ.contact.count(t,e);return(await r.Ay.get(n,{headers:{accept:"application/json",Authorization:"Bearer ".concat(a)}})).data}catch(e){throw console.log("Error (getLeadCountByContactId):",e),e}},l=async e=>{try{let t=sessionStorage.getItem(o.A),a=r.vZ.contact.siteWiseCount(e);return(await r.Ay.get(a,{headers:{accept:"application/json",Authorization:"Bearer ".concat(t)}})).data}catch(e){throw console.log("Error (getSiteWiseLeadCount):",e),e}}},27068:(e,t,a)=>{a.d(t,{ER:()=>c,LA:()=>n,i$:()=>l,t0:()=>s,v4:()=>i});var r=a(18835),o=a(25560);let n=async e=>{let{startDate:t,endDate:a,noParams:n=!1,site_id:i,Broker_id:s,contact_id:c}=e,l=sessionStorage.getItem(o.A),d={...!n&&{params:{...t&&{start_date:t},...a&&{end_date:a},...i.length&&{site_id:i},...s&&{Broker_id:s},...c&&{contact_id:c}}},headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{let e={convMonthlyLeads:0,convMonthlyWinLeads:0,convDirectVisitConversionRate:0,convRateSocialMedia:0,convBrokerConversionRate:0},t=[{key:"convMonthlyLeads",endpoint:r.vZ.report.convMonthlyLeads},{key:"convMonthlyWinLeads",endpoint:r.vZ.report.convMonthlyWinLeads},{key:"convDirectVisitConversionRate",endpoint:r.vZ.report.convDirectVisitConversionRate},{key:"convRateSocialMedia",endpoint:r.vZ.report.convRateSocialMedia},{key:"convBrokerConversionRate",endpoint:r.vZ.report.convBrokerConversionRate}];return await Promise.all(t.map(async t=>{let{key:a,endpoint:o}=t;try{e[a]=await r.Ay.get(o,d)}catch(t){e[a]={data:[]},console.error("API GET error (".concat(o,"):"),t)}})),e={convMonthlyLeads:e.convMonthlyLeads.data.TotalLeads,convMonthlyWinLeads:e.convMonthlyWinLeads.data.TotalWonLeads,convDirectVisitConversionRate:e.convDirectVisitConversionRate.data.ConversionRate,convRateSocialMedia:e.convRateSocialMedia.data.TotalSocialMediaLeads,convBrokerConversionRate:e.convBrokerConversionRate.data.BrokerConversionRate}}catch(e){throw console.error("Error fetching lead counts:",e),e}},i=async e=>{let{startDate:t,endDate:a,site_id:n,Broker_id:i,contact_id:s}=e,c=sessionStorage.getItem(o.A),l={params:{...t&&{start_date:t},...a&&{end_date:a},...n&&{site_id:n},...i&&{Broker_id:i},...s&&{contact_id:s}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"}};try{return(await r.Ay.get(r.vZ.report.convSalesFunnel,l)).data}catch(e){throw console.error("Error fetching weekly site visit report status:",e),e}},s=async e=>{let{startDate:t,endDate:a,site_id:n,Broker_id:i,contact_id:s}=e,c=sessionStorage.getItem(o.A),l={params:{...t&&{start_date:t},...a&&{end_date:a},...n&&{site_id:n},...i&&{Broker_id:i},...s&&{contact_id:s}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{var d;let e=await r.Ay.get(r.vZ.report.convTrends,l);return null==e||null==(d=e.data)?void 0:d.data}catch(e){throw console.error("Error fetching weekly site visit report status:",e),e}},c=async e=>{let{startDate:t,endDate:a,site_id:n,Broker_id:i,contact_id:s}=e,c=sessionStorage.getItem(o.A),l={params:{...t&&{start_date:t},...a&&{end_date:a},...n&&{site_id:n},...i&&{Broker_id:i},...s&&{contact_id:s}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"}};try{return(await r.Ay.get(r.vZ.report.convWeeklyLeadOverview,l)||{}).data||[]}catch(e){throw console.error("Error fetching weekly site visit report status:",e),e}},l=async e=>{let{startDate:t,endDate:a,site_id:n,Broker_id:i,contact_id:s}=e,c=sessionStorage.getItem(o.A),l={params:{...t&&{start_date:t},...a&&{end_date:a},...n&&{site_id:n},...i&&{Broker_id:i},...s&&{contact_id:s}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"}};try{return(await r.Ay.get(r.vZ.report.convSiteWiseRate,l)||{}).data||[]}catch(e){throw console.error("Error fetching weekly site visit report status:",e),e}}},35046:(e,t,a)=>{a.d(t,{KG:()=>r.DashboardContent}),a(57452);var r=a(39303)},43173:(e,t,a)=>{a.d(t,{F8:()=>c,Lm:()=>s,bE:()=>p,hX:()=>d,m1:()=>l,uM:()=>n,yS:()=>i});var r=a(18835),o=a(25560);let n=async e=>{let{startDate:t,endDate:a,noParams:n=!1,site_id:i,Broker_id:s}=e,c=sessionStorage.getItem(o.A),l={...!n&&{params:{...t&&{start_date:t},...a&&{end_date:a},...i.length&&{site_id:i},...s&&{Broker_id:s}}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{let e={monthlyBrokerTotalLeads:0,monthlyBrokerSiteVisits:0,monthlyNewBrokers:0},t=[{key:"monthlyBrokerTotalLeads",endpoint:r.vZ.report.monthlyBrokerTotalLeads},{key:"monthlyBrokerSiteVisits",endpoint:r.vZ.report.monthlyBrokerSiteVisits},{key:"monthlyNewBrokers",endpoint:r.vZ.report.monthlyNewBrokers}];return await Promise.all(t.map(async t=>{let{key:a,endpoint:o}=t;try{e[a]=await r.Ay.get(o,l)}catch(t){e[a]={data:[]},console.error("API GET error (".concat(o,"):"),t)}})),e={monthlyBrokerTotalLeads:e.monthlyBrokerTotalLeads.data.TotalBrokerLeads,monthlyBrokerSiteVisits:e.monthlyBrokerSiteVisits.data.TotalBrokerSiteVisits,monthlyNewBrokers:e.monthlyNewBrokers.data.TotalNewBrokers}}catch(e){throw console.error("Error fetching lead counts:",e),e}},i=async e=>{let{startDate:t,endDate:a,noParams:n=!1,site_id:i,Broker_id:s}=e,c=sessionStorage.getItem(o.A),l={...!n&&{params:{...t&&{start_date:t},...a&&{end_date:a},...i.length&&{site_id:i},...s&&{Broker_id:s}}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.monthlyTopPerformingBrokers,l)||{data:[]}).data||[]}catch(e){throw console.error("Error fetching lead counts:",e),e}},s=async e=>{let{startDate:t,endDate:a,noParams:n=!1,site_id:i,Broker_id:s}=e,c=sessionStorage.getItem(o.A),l={...!n&&{params:{...t&&{start_date:t},...a&&{end_date:a},...i.length&&{site_id:i},...s&&{Broker_id:s}}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.monthlyBrokerVisitDistribution,l)||{data:[]}).data||[]}catch(e){throw console.error("Error fetching lead counts:",e),e}},c=async e=>{let{startDate:t,endDate:a,noParams:n=!1,site_id:i,Broker_id:s}=e,c=sessionStorage.getItem(o.A),l={...!n&&{params:{...t&&{start_date:t},...a&&{end_date:a},...i&&{site_id:i},...s&&{Broker_id:s}}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.monthlySiteBrokerPerformance,l)||{data:[]}).data||[]}catch(e){throw console.error("Error fetching lead counts:",e),e}},l=async e=>{let{startDate:t,endDate:a,noParams:n=!1,site_id:i,Broker_id:s}=e,c=sessionStorage.getItem(o.A),l={...!n&&{params:{...t&&{start_date:t},...a&&{end_date:a},...i.length&&{site_id:i},...s&&{Broker_id:s}}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.monthBrokerVisitorsSixMonth,l)||{data:[]}).data||[]}catch(e){throw console.error("Error fetching lead counts:",e),e}},d=async e=>{let{startDate:t,endDate:a,noParams:n=!1,site_id:i,Broker_id:s}=e,c=sessionStorage.getItem(o.A),l={...!n&&{params:{...t&&{start_date:t},...a&&{end_date:a},...i&&{site_id:i},...s&&{Broker_id:s}}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.monthlyBrokerLeadCount,l)||{data:[]}).data||[]}catch(e){throw console.error("Error fetching lead counts:",e),e}},p=async e=>{let{startDate:t,endDate:a,noParams:n=!1,site_id:i,Broker_id:s}=e,c=sessionStorage.getItem(o.A),l={...!n&&{params:{...t&&{start_date:t},...a&&{end_date:a},...i&&{site_id:i},...s&&{Broker_id:s}}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.monthlyBrokerWiseCustomers,l)||{data:[]}).data||[]}catch(e){throw console.error("Error fetching lead counts:",e),e}}},44353:(e,t,a)=>{a.d(t,{Ac:()=>n,G4:()=>l,GZ:()=>s,NS:()=>c,Tm:()=>i,_y:()=>d});var r=a(18835),o=a(53212);let n=[{group:"",classify:["North","South","East","West","Northeast","Northwest","Southeast","Southwest"]}],i=[{group:"Residential/Apartment",classify:["1 BHK","2 BHK","3 BHK","4 BHK","Studio Apartment","Penthouse","Duplex","Triplex"]},{group:"Commercial Space",classify:["Office Space","Retail Shop","Coworking Space","Showroom"]},{group:"Villas & Independent Houses",classify:["Row House","Bungalow","Farmhouse"]},{group:"Industrial & Warehousing",classify:["Factory Unit","Warehouse/Storage"]}],s=[{group:"",classify:["Garden View","City View","Sea View","Lake View","Mountain View","Pool View","Street View","Main Road View","Open Land View","Forest View","Industrial Area View","Highway View"]}],c=[{group:"",classify:Array.from({length:30},(e,t)=>(t+1).toString())}],l=async e=>{try{let t=sessionStorage.getItem(o.Ad),a=JSON.stringify(e),n={method:"post",maxBodyLength:1/0,url:r.vZ.infraUnit.create,headers:{accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},data:a};return(await r.Ay.request(n)).data}catch(e){throw console.error("Error creating infra units:",e),e}},d=async e=>{let{newInfraUnitsData:t,id:a}=e;try{let e=sessionStorage.getItem(o.Ad),n=JSON.stringify(t);return(await r.Ay.put(r.vZ.infraUnit.update(a),n,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).data}catch(e){throw console.error("Error updating infra unit:",e),e}}},46546:(e,t,a)=>{let r,o;a.r(t),a.d(t,{AuthProvider:()=>A});var n=a(95155),i=a(36339),s=a(12115),c=a(49742),l=a(25560);let d={init:()=>{window.addEventListener("storage",d.handleStorageChange),window.addEventListener("auth-logout",d.handleLogout)},handleStorageChange:e=>{e.key===l.A&&(null===e.newValue&&null!==e.oldValue?(console.log("Token removed in another tab, logging out..."),sessionStorage.removeItem(l.A),window.location.href=c.f.auth.jwt.signIn):null===e.oldValue&&null!==e.newValue?(console.log("Token added in another tab, refreshing auth..."),window.location.reload()):null!==e.oldValue&&null!==e.newValue&&e.oldValue!==e.newValue&&(console.log("Token updated in another tab, refreshing auth..."),window.location.reload())),e.key},handleLogout:e=>{var t;let a=(null==(t=e.detail)?void 0:t.reason)||"user-action";console.log("Logging out due to: ".concat(a)),localStorage.removeItem(l.A),localStorage.removeItem("tokenMetadata"),sessionStorage.removeItem(l.A),window.location.pathname.includes("/auth/")||(window.location.href=c.f.auth.jwt.signIn)},broadcast:(e,t)=>{let a={action:e,data:t,timestamp:Date.now(),tabId:d.getTabId()},r="crossTabMessage_".concat(Date.now());localStorage.setItem(r,JSON.stringify(a)),setTimeout(()=>localStorage.removeItem(r),100)},getTabId:()=>(window._tabId||(window._tabId="tab_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))),window._tabId),destroy:()=>{window.removeEventListener("storage",d.handleStorageChange),window.removeEventListener("auth-logout",d.handleLogout)}};var p=a(20330);let u="tokenMetadata",h={getToken:()=>localStorage.getItem(l.A)||sessionStorage.getItem(l.A),setToken:e=>{if(e){localStorage.setItem(l.A,e);let t={storedAt:Date.now(),lastActivity:Date.now()};localStorage.setItem(u,JSON.stringify(t))}sessionStorage.removeItem(l.A)},removeToken:()=>{localStorage.removeItem(l.A),localStorage.removeItem(u),sessionStorage.removeItem(l.A)},hasToken:()=>!!localStorage.getItem(l.A),updateActivity:()=>{let e=JSON.parse(localStorage.getItem(u)||"{}");e.lastActivity=Date.now(),localStorage.setItem(u,JSON.stringify(e))},getMetadata:()=>JSON.parse(localStorage.getItem(u)||"{}"),isSessionExpired:()=>{let e=h.getMetadata();if(!e.lastActivity||!e.storedAt)return!1;let t=Date.now(),a=t-e.lastActivity,r=t-e.storedAt;return a>p.Op.IDLE_TIMEOUT||r>p.Op.MAX_SESSION_TIME}},g={start:()=>{let e=()=>{h.updateActivity(),clearTimeout(r),r=setTimeout(()=>{g.handleInactivity()},p.Op.IDLE_TIMEOUT)},t=["mousedown","keydown","scroll","touchstart","click","mousemove"];t.forEach(t=>{document.addEventListener(t,e,{passive:!0})}),e(),o=setInterval(()=>{g.checkSessionValidity()},p.Op.ACTIVITY_CHECK_INTERVAL),g._cleanup=()=>{t.forEach(t=>{document.removeEventListener(t,e)})}},handleInactivity:()=>{console.warn("User inactive, logging out..."),window.dispatchEvent(new CustomEvent("auth-logout",{detail:{reason:"inactivity"}})),g.stop()},checkSessionValidity:()=>{let e=h.getMetadata();if(!e.storedAt)return;let t=Date.now()-e.storedAt,a=Date.now()-(e.lastActivity||e.storedAt);if(t>p.Op.MAX_SESSION_TIME){console.warn("Maximum session time exceeded, logging out..."),window.dispatchEvent(new CustomEvent("auth-logout",{detail:{reason:"session-expired"}})),g.stop();return}a>p.Op.IDLE_TIMEOUT&&(console.warn("Inactivity timeout exceeded, logging out..."),window.dispatchEvent(new CustomEvent("auth-logout",{detail:{reason:"inactivity"}})),g.stop())},stop:()=>{clearTimeout(r),clearInterval(o),g._cleanup&&(g._cleanup(),g._cleanup=null)},getRemainingTime:()=>{let e=h.getMetadata();if(!e.storedAt)return null;let t=Date.now()-e.storedAt,a=p.Op.MAX_SESSION_TIME-t;return a>0?a:0},getRemainingInactivityTime:()=>{let e=h.getMetadata();if(!e.lastActivity)return null;let t=Date.now()-e.lastActivity,a=p.Op.IDLE_TIMEOUT-t;return a>0?a:0}};var y=a(18835),m=a(47052),v=a(98297);function A(e){let{children:t}=e,{state:a,setState:r}=(0,i.xI)({user:null,loading:!0}),o=(0,s.useCallback)(async()=>{try{let e=localStorage.getItem(l.A)||sessionStorage.getItem(l.A);if(e&&(0,v.yN)(e)){(0,v.Nq)(e);let{user:t}=(await y.Ay.get(y.vZ.auth.me)).data;r({user:{...t,accessToken:e},loading:!1})}else r({user:null,loading:!1})}catch(e){console.error(e),r({user:null,loading:!1})}},[r]);(0,s.useEffect)(()=>{o();let e=localStorage.getItem(l.A)||sessionStorage.getItem(l.A);return e&&(0,v.yN)(e)&&g.start(),d.init(),window.ActivityMonitor=g,()=>{g.stop(),d.destroy(),delete window.ActivityMonitor}},[]);let c=a.user?"authenticated":"unauthenticated",p=a.loading?"loading":c,u=(0,s.useMemo)(()=>{var e,t;return{user:a.user?{...a.user,role:null!=(t=null==(e=a.user)?void 0:e.role)?t:"admin"}:null,checkUserSession:o,loading:"loading"===p,authenticated:"authenticated"===p,unauthenticated:"unauthenticated"===p}},[o,a.user,p]);return(0,n.jsx)(m.c.Provider,{value:u,children:t})}},52209:(e,t,a)=>{function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"perform this action",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"item";if(null==e?void 0:e.response){let r=e.response.status,o=e.response.data,n=(null==o?void 0:o.detail)||(null==o?void 0:o.message)||(null==o?void 0:o.error);switch(r){case 400:if(n)return n;return"Invalid ".concat(a," data. Please check your input and try again.");case 401:return"Your session has expired. Please log in again.";case 403:return"You don't have permission to ".concat(t," this ").concat(a,".");case 404:return"".concat(a.charAt(0).toUpperCase()+a.slice(1)," not found.");case 409:if(n)return n;return"This ".concat(a," already exists. Please use a different name.");case 422:if(n)return n;return"Please check your input. Some fields have invalid values.";case 500:case 502:case 503:return"Something went wrong on our server. Please try again in a few moments.";default:if(n)return n;return"Unable to ".concat(t," ").concat(a,". Please try again.")}}return(null==e?void 0:e.request)?"Unable to connect to server. Please check your internet connection.":e instanceof Error?e.message||"An unexpected error occurred. Please try again.":"string"==typeof e?e:"Unable to ".concat(t," ").concat(a,". Please try again.")}function o(e){var t,a;let r=null==e||null==(t=e.response)?void 0:t.status,o=null==e||null==(a=e.response)?void 0:a.data;return{message:(null==o?void 0:o.detail)||(null==o?void 0:o.message)||(null==o?void 0:o.error)||(null==e?void 0:e.message)||"An unexpected error occurred",statusCode:r,isRetryable:!r||r>=500||0===r||408===r,isAuthError:401===r||403===r,isNotFound:404===r,isValidationError:400===r||422===r,isConflictError:409===r,isClientError:r>=400&&r<500,isServerError:r>=500,isNetworkError:!r||0===r,originalError:e}}a.d(t,{eZ:()=>c,ZA:()=>s,hj:()=>l});var n=a(18835),i=a(25560);let s=async()=>{let e=sessionStorage.getItem(i.A);return(await n.Ay.get(n.vZ.site.readAll,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e)}})).data},c=async e=>{try{let t=sessionStorage.getItem(i.A),a=JSON.stringify(e),r={method:"POST",maxBodyLength:1/0,url:n.vZ.site.createSite,headers:{accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},data:a};return(await n.Ay.request(r)).data}catch(a){console.error("Error creating site:",a);let e=o(a),t=Error(r(a,"create","site"));throw t.details=e,t.originalError=a,t}},l=async e=>{let{newSiteData:t,id:a}=e;try{let e=sessionStorage.getItem(i.A),r=JSON.stringify(t);return(await n.Ay.put(n.vZ.site.update(a),r,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).data}catch(a){console.error("Error updating site:",a);let e=o(a),t=Error(r(a,"update","site"));throw t.details=e,t.originalError=a,t}}},53212:(e,t,a)=>{a.d(t,{Ad:()=>o.A,Hh:()=>r.signUp,M:()=>r.signInWithPassword}),a(98297);var r=a(81394),o=a(25560);a(46546)},74234:(e,t,a)=>{a.d(t,{Tm:()=>u.Tm,Ac:()=>u.Ac,NS:()=>u.NS,GZ:()=>u.GZ,hy:()=>l,P8:()=>p.P8,LA:()=>g.LA,vY:()=>p.vY,HV:()=>i,G4:()=>u.G4,eZ:()=>o.eZ,zx:()=>s,MH:()=>d,hX:()=>h.hX,uM:()=>h.uM,F8:()=>h.F8,m1:()=>h.m1,yS:()=>h.yS,ZA:()=>o.ZA,CI:()=>p.CI,_y:()=>u._y,hj:()=>o.hj,y3:()=>y.y3}),a(38543),a(32104);var r=a(18835),o=a(52209),n=a(53212);let i=async e=>{try{let t=sessionStorage.getItem(n.Ad),a=JSON.stringify(e),o={method:"post",maxBodyLength:1/0,url:r.vZ.infra.create,headers:{accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},data:a};return(await r.Ay.request(o)).data}catch(e){throw console.error("Error creating site:",e),e}},s=async e=>{let{newInfraData:t,id:a}=e;try{let e=sessionStorage.getItem(n.Ad),o=JSON.stringify(t);return(await r.Ay.put(r.vZ.infra.update(a),o,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).data}catch(e){throw console.error("Error updating site:",e),e}};var c=a(25560);let l=async e=>{try{let t=sessionStorage.getItem(c.A),a=JSON.stringify(e),o={method:"post",maxBodyLength:1/0,url:r.vZ.employee.create,headers:{accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},data:a};return(await r.Ay.request(o)).data}catch(e){throw console.error("Error creating site:",e),e}},d=async e=>{let{leaveData:t,id:a}=e;try{let e=sessionStorage.getItem(c.A),o=JSON.stringify(t);return(await r.Ay.put(r.vZ.employee.update(a),o,{headers:{accept:"application/json",Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).data}catch(e){throw console.error("Error updating site:",e),e}};a(50661);var p=a(25114),u=a(44353),h=a(43173),g=a(27068),y=a(75967)},75967:(e,t,a)=>{a.d(t,{LV:()=>l,WC:()=>s,qQ:()=>c,sA:()=>i,ui:()=>d,y3:()=>n});var r=a(18835),o=a(25560);let n=async e=>{let{startDate:t,endDate:a,site_id:n,Broker_id:i,contact_id:s}=e,c=sessionStorage.getItem(o.A),l={params:{...t&&{start_date:t},...a&&{end_date:a},...n.length&&{site_id:n},...i&&{Broker_id:i},...s&&{contact_id:s}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{var d,p,u,h,g,y;let e={totalVisit:0,directVisit:0,brokerVisit:0,newBrokerVisit:0},t=[{key:"totalVisit",endpoint:r.vZ.report.totalVisit},{key:"directVisit",endpoint:r.vZ.report.directVisit},{key:"brokerVisit",endpoint:r.vZ.report.brokerVisit},{key:"newBrokerVisit",endpoint:r.vZ.report.newBrokerVisit}];return await Promise.all(t.map(async t=>{let{key:a,endpoint:o}=t;try{e[a]=await r.Ay.get(o,l)}catch(t){e[a]={data:[]},console.error("API GET error (".concat(o,"):"),t)}})),e={totalVisit:(null==e||null==(p=e.totalVisit)||null==(d=p.data)?void 0:d.TotalVisit)||0,directVisit:(null==e||null==(h=e.directVisit)||null==(u=h.data)?void 0:u.TotalDirectVisits)||0,brokerVisit:(null==e||null==(y=e.brokerVisit)||null==(g=y.data)?void 0:g.TotalBrokerVisits)||0,newBrokerVisit:e.newBrokerVisit.data.TotalNewBrokerVisits}}catch(e){throw console.error("Error fetching lead counts:",e),e}},i=async e=>{let{startDate:t,endDate:a,site_id:n,Broker_id:i,contact_id:s}=e,c=sessionStorage.getItem(o.A),l={params:{...t&&{start_date:t},...a&&{end_date:a},...n.length&&{site_id:n},...i&&{Broker_id:i},...s&&{contact_id:s}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.visitTrends,l)).data}catch(e){throw console.error("Error fetching weekly site visit report chart:",e),e}},s=async e=>{let{startDate:t,endDate:a,site_id:n,Broker_id:i,contact_id:s}=e,c=sessionStorage.getItem(o.A),l={params:{...t&&{start_date:t},...a&&{end_date:a},...n.length&&{site_id:n},...i&&{Broker_id:i},...s&&{contact_id:s}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.visitStatus,l)).data}catch(e){throw console.error("Error fetching weekly site visit report status:",e),e}},c=async e=>{let{startDate:t,endDate:a,site_id:n,Broker_id:i,contact_id:s}=e,c=sessionStorage.getItem(o.A),l={params:{...t&&{start_date:t},...a&&{end_date:a},...n.length&&{site_id:n},...i&&{Broker_id:i},...s&&{contact_id:s}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.buyIntent,l)).data}catch(e){throw console.error("Error fetching weekly site visit report buy intent:",e),e}},l=async e=>{let{startDate:t,endDate:a,site_id:n,Broker_id:i,contact_id:s}=e,c=sessionStorage.getItem(o.A),l={params:{...t&&{start_date:t},...a&&{end_date:a},...n.length&&{site_id:n},...i&&{Broker_id:i},...s&&{contact_id:s}},headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.salesTeamPerf,l)).data}catch(e){throw console.error("Error fetching weekly sales team performance:",e),e}},d=async e=>{let{startDate:t,endDate:a,site_id:n,Broker_id:i,contact_id:s}=e,c=sessionStorage.getItem(o.A),l={headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Accept:"application/json"},params:{...t&&{start_date:t},...a&&{end_date:a},...n.length&&{site_id:n},...i&&{Broker_id:i},...s&&{contact_id:s}},paramsSerializer:{indexes:null}};try{return(await r.Ay.get(r.vZ.report.visitBySite,l)).data}catch(e){throw console.error("Error fetching weekly site visit sales visit status:",e),e}}}}]);